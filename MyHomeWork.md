# **Введение в контроль версий**

## Знакомство с программой git

**Базовые команды git**

•	*git branch* - команда, выводящая на экран список имеющихся веток. После команды указывается название ветки. * указывает на текущую ветку.

•	*git branch -d* - команда, позволяющая удалять ветки.

•	*git checkout* - команда, позволяющая перейти на указанную ветку (название ветки, на которую необходимо перейти, указывается после команды).

•	*git merge branch_name* - команда, объединяющая текущую ветку с указанной (c branch_name)

**Правила работы с Git**

1.	Git управляет сохраненными файлами, а не теми, что в процессе редактирования.
2.	Имена файлов обязательно указываются с расширением.

**Работа с ветками**

Ветка (branch) - последовательность коммитов. Ветки позволяют легко управлять черновиками и чистовиками в git.

**Cлияние веток**

*Cлияние веток* - перенос изменений с одной ветки на другую (git merge). Слияние не затрагивает ветку, с которой берутся изменения, т.е. она остается в том же состоянии.

*Стратегии слияния*

•	Явное слиние

•	Неявное слияние

*Явное слияние *создается командой **merge**.

*Команда git merge:*

•	проверяет, нет ли конфликтов (не будет ли переписана или удалена существующая информация);

•	добавляет все изменения.

*Неявное слияние* - из вливаемой ветки извлекаются несколько коммитов,которые применяются к последнему коммиту основной ветки (fast forword).



# **Работа с GitHub**

**GitHub**– сервис, позволяющий синхронизироваться с git на локальном компьютере, необходим для удаленной работы.


### План

1.	Создание удаленного репозитория
2.	Связывание удаленного репозитория с локальным
3.	Создание собственного удаленного репозитория  и перенос его в локальный
4.	Изменения репозитория в GitHub
5.	Отработка команд git push  и git pull
6.	Создание pull request, т.е. запросов на слияние

### **Создание удаленного репозитория**

1.	Открываем сайт GitHub.com (создать учетную запись при ее отсутствии). 

2.	"+" -  new repository
3.	Create a new repository - Repository name
4.	Public - оставить репозиторий доступным другим пользователям.
5.	Можно добавить файл README и .gitignore
6.	Create repository

### **Связывание удаленного репозитория с локальным**


 После создания удаленного репозитория открывается страница с шаблонами 
(варианты того, как можно связать удаленный репозиторий с локальным).

**Git branch –M** – указывается, как в репозитории будет называться базовая ветка.

 Эта команда обязательно выполняется перед git push.

**Git remote add origin** (ссылка) – команда, осуществляющая привязку; добавляет к отслеживанию удаленный объект и говорит о том, что мы хотим привязать основную ветку удаленного репозитория; отсылка на то, что с локального репозитория необходимо произвести команду, т.е. из локального репозитория сослаться на удаленный (связь репозиториев).

**Git push –u origin** – произведется отправка ветки и настройка ее в формат upstream, (т.е. доступное к отправке на удаленку). 


*Команды при создании нового репозитория:*

Echo  “# Homework”  >> README.md

Git init

Git add README.md

Git commit –m “initial commit”

Git branch –M main

Git remote add original (ссылка)

Git push


*При отправке существующего репозитория из командной строки:*

Git remote add original (ссылка)

Git branch –M main

Git push –u origin main


В терминале при вызове команды  git log красным выделяется origin\main – это состояние удаленного репозитория.

* После выполнения данных команд обновить GitHub – появляется на странице наш файл. 

* Добавляем информацию в локальном репозитории, сохраняем

* Вызываем команду git push

* Обновляем страницу GitHub.com – появится обновление информации.

### **Изменения репозитория внутри GitHub**


1.	На странице GitHub щелкнуть по “edit this file” (редактировать).

2.	Добавляем в удаленный репозиторий (в GitHub) информацию

3.	Commit changes (зафиксировать изменения) – update – Добавлены удаленные 
изменения – commit changes.

При этом в локальном репозитории изменений нет. 

В терминале команда **git pull** – подтягивает данные из удаленного репозитория, т.е. позволяет скачать все из текущего репозитория и автоматически сделать merge с нашей версией.

Добавляем новую ветку в терминале  (для отправки), переходим на нее.

Git branch BranchForPush

Git checkout  BranchForPush


-можно в локальном репозитории слить ветки.

Если сделать git push, выскочит ошибка (текущая ветка не доступна к отправке на удаленный репозиторий. 

Вводится в терминале команда :

Git push  --set – upstream origin (название побочной ветки). В удаленном репозитории создается побочная ветка. Команда git push --set -upstream origin позволяет создать удаленную побочную ветку на удаленном репозитории; позволяет отправить и задать текущую локальную ветку для отслеживания в удаленном репозитории.

На  GitHub появится сообщение о добавлении побочной ветки. Во вкладке “master” изменений нет, т.к. ветки не слиты. GitHub предлагает слить ветки. Щелкаем по “Compare & pull request”. Для слияния веток в GitHub необходим запрос. Создаем запрос на слияние. 

Merge pull request – подтверждение запроса.

Статус  - слияние произошло, объединено (merged).

### **Работа с чужим репозиторием (Fork)**

Команда git clone позволяет склонировать внешний репозиторий на наш ПК. 

Если в GitHub нажать на Code, можно скопировать чужой репозиторий, но при работе с ним связи с удаленным репозиторием не будет (просто копия).

**Fork** — это копия репозитория . Разветвление репозитория позволяет вам свободно экспериментировать с изменениями, не затрагивая исходный проект.

Fork дает возможность вносить изменения в оригинальный репозиторий. 

При нажатии на кнопку Fork открывается окно  “Create a new fork”, где указывается владелец и имя репозитория.  По умолчанию вилки называются так же, как их родительский репозиторий. Вы можете настроить имя, чтобы различать его дальше. При нажатии на Create fork чужой репозиторий копируется в личный аккаунт.  Любые изменения, которые будут внесены  и закоммичены, можно отправить как  запрос на слияние с оригинальным репозиторием. 

**Клонирование репозитория.**

* Открываем Visual StudioCode

* Файл – закрыть папку

* Проводник – клонировать репозиторий – сверху появляется возможность нажать на кнопку «клонировать из GitHub» - разрешить – открыть – авторизация – открыть приложение – открыть.

После того, как настроена связь между удаленным репозиторием на GitHub и компьютером, VSC имеет доступ ко всем репозиториям и может быстро их копировать (без необходимости открывать терминал и команды git clone).

* Далее выбираем нужный репозиторий. 

* Открывается окно с выбором папки, в которой будет сохранен репозиторий – сохранить.

* В VSC щелкнуть «открыть» в уведомлениях – Да, я доверяю авторам.

* Вносим изменения в файл, сохраняем, коммитим. 

* Вызываем команду git push.

* Возвращаемся в GitHub, обновляем страницу. 

  Появляются внесенные изменения (здесь специального предложения сделать pull request не возникло, т.к. pull request автоматически предлагается GitHub-ом, когда отправляется на запрос побочная ветка).

* Переходим на вкладку pull request (наверху слева) – new pull request.

  GitHub сразу опишет, какой вариант, т.е. какие изменения возможны и куда их можно закинуть.

* Проверяем, все ли в порядке и нажимаем “Create pull request” (создать запрос на слияние) – пишем комментарий (т.е. возникает обсуждение - “Create pull request”, т.е. подтверждаем запрос (Changes from…).

